


<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="manifest" href="drivepwa.webmanifest">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="Driving Log">
  <meta name="theme-color" content="#344955"/>
  <title>Driving Log</title>
  <link href="assets/material.css" rel="stylesheet">
  <script type="text/javascript" src="assets/material.js"></script>
  <link rel="stylesheet" href="assets/style.css">
  <meta name="description" content="A simple driving log for permitted drivers">
  <script type="text/javascript" src="assets/jquery.js"></script>
  <script type="text/javascript" src="assets/index.js"></script>
  
</body>
</head>
<html>
  <header class="mdc-top-app-bar">
    <div class="mdc-top-app-bar__row">
      <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start">
        
      <!--  <div class="mdc-menu-surface--anchor" id="share"> -->
          
          <button class="mdc-top-app-bar__navigation-icon mdc-icon-button material-icons" href="#">menu</button>
          <button class="material-icons mdc-top-app-bar__navigation-icon mdc-icon-button" hidden id="closeButton" onclick="discardTimer()">close</button>
          <a class="mdc-top-app-bar__title" id="identity" href="index.html" target="_blank" style="color: inherit; font-size: 24px;">  </a>
   
       
       <!--<div class="mdc-menu mdc-menu-surface">
            <ul class="mdc-list" role="menu" aria-hidden="true" aria-orientation="vertical" tabindex="-1">
          <a class="mdc-list-item" role="menuitem" onclick="exportData(this)">
            <span class="mdc-list-item__ripple"></span>
            <span class="mdc-list-item__text">Export Data</span>
          </a>
          <li class="mdc-list-item" role="menuitem" onclick="jsShare()" hidden>
            <span class="mdc-list-item__ripple"></span>
            <span class="mdc-list-item__text">Share</span>
          </li>
        </ul>
        </div>--> 
      </div>
    
      </section>
     
       
  
       
    </div>
  
    
  </header>
  
<div class="app-drawer-layout mdc-top-app-bar--fixed-adjust">
  <!-- Drawer -->
  <aside class="mdc-drawer mdc-drawer--dismissible demo-drawer">
    <nav class="mdc-drawer__drawer">
      <nav class="mdc-drawer__content">
        <div id="icon-with-text-demo" class="mdc-list">
          <a class="mdc-list-item mdc-list-item--selected demo-drawer-list-item" href="#">
            <i class="material-icons mdc-list-item__graphic" aria-hidden="true">directions_car</i>Drive History
          </a>
          <a class="mdc-list-item demo-drawer-list-item" href="#">
            <i class="material-icons mdc-list-item__graphic" aria-hidden="true">account_circle</i>Profile
       
          <a class="mdc-list-item demo-drawer-list-item" href="#">
            <i class="material-icons mdc-list-item__graphic" aria-hidden="true">logout</i>Sign Out
          </a>
        </div>

        <hr class="mdc-list-divider">

        <div class="mdc-list">
      
        </div>
      </nav>
    </nav>
  </aside>

  <!-- Content -->

  </div>
 

</div>

  <!-- Content -->
   
<header class="mdc-top-app-bar bottom-app-bar">
 
  <div class="mdc-top-app-bar__row">
    <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start">
      <div class="mdc-menu-surface--anchor" id="share">
      <button class="material-icons mdc-top-app-bar__navigation-icon mdc-icon-button" onclick="openShareMenu()" hidden>home</button>
      <div class="mdc-menu mdc-menu-surface">
          <ul class="mdc-list" role="menu" aria-hidden="true" aria-orientation="vertical" tabindex="-1">
        <a class="mdc-list-item" role="menuitem" onclick="exportData(this)">
          <span class="mdc-list-item__ripple"></span>
          <span class="mdc-list-item__text">Export Data</span>
        </a>
        <li class="mdc-list-item" role="menuitem" onclick="jsShare()" hidden>
          <span class="mdc-list-item__ripple"></span>
          <span class="mdc-list-item__text">Share</span>
        </li>
      </ul>
      </div>
    </div>
    <button class="material-icons mdc-top-app-bar__navigation-icon mdc-icon-button" hidden id="closeButton" onclick="discardTimer()">close</button>
    </section>
    <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" role="toolbar">
      <button class="material-icons mdc-top-app-bar__action-item mdc-icon-button" aria-label="Settings" onclick="settings.open()">settings</button>
      <button class="material-icons mdc-top-app-bar__action-item mdc-icon-button" aria-label="Print" id="printButton" onclick="printLog()" disabled hidden>print</button>
      <button class="material-icons mdc-top-app-bar__action-item mdc-icon-button" aria-label="Show Speed" id="speedButton" onclick="speedometer.start()" hidden>speed</button>
    </section>
  </div>
</header>
  <button class="mdc-fab app-bar-fab standard-fab" id="standardFab" onclick="view.start()">
  <div class="mdc-fab__ripple"></div>
  <span class="mdc-fab__icon material-icons" id="fabIcon">timer</span>
    </button>
    <button class="app-bar-fab mdc-fab stop-fab mdc-fab--exited" id="stopFab" onclick="timer.stop()">
    <svg viewBox="0, 0, 75, 75">
    <g>
      <path d="M51.339,0 L23.672,0 C22.589,0 21.505,0.458 20.755,1.208 L1.214,20.75 C0.464,21.5 0.005,22.583 0.005,23.667 L0.005,51.292 C0.005,52.417 0.464,53.458 1.214,54.25 L20.714,73.75 C21.505,74.542 22.589,75 23.672,75 L51.297,75 C52.422,75 53.464,74.542 54.255,73.792 L73.755,54.292 C74.547,53.5 74.964,52.458 74.964,51.333 L74.964,23.667 C74.964,22.542 74.505,21.5 73.755,20.708 L54.255,1.208 C53.505,0.458 52.422,0 51.339,0 z" fill="#FF4428"/>
    </g>
</svg>
<span class="stop-fab__icon material-icons">stop</span>

</button>

<button class="mdc-fab app-bar-fab standard-fab " id="standardFa" style="right: 150;transform: rotate(0);"  hidden>
  <div class="mdc-fab__ripple"></div>
  <span>timer</span>
    </button>


   
<body class="main-content">
 
<div class="container text-center" id="homeContainer"  ><br>
  <h2 class="fleetname" id="fleet"> Fleet: 30SCE/HQ</h2> <br>

<style>

.material-icons.md-18 { font-size: 18px; }
.material-icons.md-24 { font-size: 24px; }
.material-icons.md-36 { font-size: 36px; }
.material-icons.md-48 { font-size: 48px; }

</style>
<div class="mdc-card-columns text-align"   >
<div class="mdc-card" ">
    <div class="mdc-card-content mdc-card__primary-action" onclick="expandCard(this.parentElement)">
    <h6><i class="material-icons  md-24">speed</i><br> Mileage</h6>
    <h4 id="totalkm">1</h4>
      <h4>KM</h4>
    
   
    </div>
   
</div>
<div class="mdc-card" >
  <div class="mdc-card-content mdc-card__primary-action"  onclick="expandCard(this.parentElement)">
  <h6><i class="material-icons md-24">directions_car</i><br> Drives</h6>
  <h4 id="totaltrips">1</h4>
   <h4>Trips</h4>
 
  </div>
 
</div>
<div class="mdc-card">
  <div   class="mdc-card-content mdc-card__primary-action"onclick="expandCard(this.parentElement)">
  <h6><i class="material-icons  md-24">history</i><br> Time</h6>
  <h4 class="welcome" id="welcome-text">"0 seconds"</h4> 
 
  </div>
 

</div>

 
</div>
  <br>
<div><h4><u>Platform Currency</u> </h4></div>

  <div onclick="reminder.open()">
  <h5>Octopus:</h5>
  <h6>Last Driven: 2/12/2021 (7 days ago)</h6> 
 
  </div>
</div>

</div>

<div class="mdc-data-table" id="printTable" hidden>
  <div class="mdc-data-table__table-container">
    <table class="mdc-data-table__table" aria-label="Printing Data...">
      <thead>
        <tr class="mdc-data-table__header-row">
          <th class="mdc-data-table__header-cell" role="columnheader" scope="col">Driving Time</th>
          <th class="mdc-data-table__header-cell" role="columnheader" scope="col">Date</th>
          <th class="mdc-data-table__header-cell" role="columnheader" scope="col">Night?</th>
          <th class="mdc-data-table__header-cell mdc-data-table__header-cell--numeric" role="columnheader" scope="col">Skills Practiced</th>
          <th class="mdc-data-table__header-cell" role="columnheader" scope="col">Comment</th>
        </tr>
      </thead>
      <tbody class="mdc-data-table__content" id="printTableContent">
      </tbody>
    </table>
  </div>
</div>
</div>

<div class="container text-center" hidden id="startContainer">
 <br>
  <h3>Ready to Drive?</h3><br>

  <button class="mdc-button mdc-button--raised mdc-button--leading" id="checkbutt1" onclick="location.href='mtrac.html'">
    <span class="mdc-button__ripple"></span>
    <i class="material-icons mdc-button__icon" aria-hidden="true"
      hidden> check_circle</i
    >
    <span class="mdc-button__label"> MT-RAC</span>
  </button>
 <br><br><br>
 <button  class="mdc-button  mdc-button--raised mdc-button--leading" id="checkbutt2" onclick="location.href='BOC.html'" >
  <span class="mdc-button__ripple"></span>
  <i class="material-icons mdc-button__icon" aria-hidden="true"
    hidden>check_circle</i
  >
  <span class="mdc-button__label">Before-Operations Check (BOC) Checklist</span>
</button>
<br><br>
  <div class="mdc-chip-set mdc-chip-set--choice"  role="grid" style="visibility: hidden;" > 
  <div class="mdc-chip" role="row" id="day">
  <div class="mdc-chip__ripple"></div>
  <i class="material-icons mdc-chip__icon mdc-chip__icon--leading" >check_circle</i>
  <span role="gridcell">
    <span role="button" tabindex="0" class="mdc-chip__primary-action">
      <span class="mdc-chip__text">MT-RAC</span>
    </span>
  </span>
</div>
<div class="mdc-chip" role="row" id="night" >
  <div class="mdc-chip__ripple"></div> 
  <i class="material-icons mdc-chip__icon mdc-chip__icon--leading"  style="visibility: hidden;" >check_circle</i>

  <span role="gridcell">
    <span role="button" tabindex="0" class="mdc-chip__primary-action"  >
     
      <span class="mdc-chip__text">Pre Drive Checklist</span>
    
    </span>
  </span>
</div>
  </div><br>
</div>
<div class="container text-center" hidden id="timerContainer"><br>
  <button class="material-icons  mdc-icon-button" aria-label="Show Speed" id="speedButton" onclick="speedometer.start()" >speed</button>
  <h2>Currently Driving</h2>
  <h1 class="time" id="timer">00:00:00</h1><br>

  <div class="text-muted">
  <i class="material-icons">info</i><br>
  <i id="tip">...</i></div>
  <div id="speedometer" hidden></div>
</div>
<div class="container text-center" hidden id="endContainer"><br>
  <h2>Drive Over!</h2>
  <h1 class="time" id="endTime">00:00:00</h1><hr>
  <h5>Remember to do your post drive checks</h5>
  <div class="mdc-chip-set mdc-chip-set--filter" id="hazards" role="grid" hidden>
</div><br><h4>Drive Started:</h4>
<span id="drivestart"><h4>Drive Started: 1630</h4> </span><br><br>
<h4>Drive Ended:</h4>
<span id="driveend"><h4>Drive Ended: 1630 </h4></span> <br><br>
<label class="mdc-text-field mdc-text-field--outlined" id="timeComment">

  <input type="number" class="mdc-text-field__input" id="kminput" >
  <span class="mdc-notched-outline">
    <span class="mdc-notched-outline__leading"></span>
    <span class="mdc-notched-outline__notch">
      <span class="mdc-floating-label" >Enter distance driven</span>
    </span>
    <span class="mdc-notched-outline__trailing"></span>
  </span>
</label>

<p class="text-muted">Press <i class="material-icons align-bottom">save</i> to save, or <i class="material-icons align-bottom">close</i> to discard</p>
</div>
</div>
<div id="importJSONWrapper">
</div>
<div class="container text-center" style="max-width: 700px;" id="onboardingContainer" hidden><br>
  <h1 class="welcome" style="margin-bottom: 0px;">Hello.<p style="font-size:1rem">Welcome to Drive Currency App</p></h1>
 
  
  </a><br><br>
  <p class="text-muted">Put in your Name, Rank and Unit</p>
  <div class="hourrow">
    <label class="mdc-text-field mdc-text-field--filled hour-input">
      <span class="mdc-text-field__ripple"></span>
      <input class="mdc-text-field__input" type="text" aria-labelledby="my-label-id" id="rank">
      <span class="mdc-floating-label" id="my-label-id1">Rank</span>
      <span class="mdc-line-ripple"></span>
    </label>
    <label class="mdc-text-field mdc-text-field--filled hour-input">
      <span class="mdc-text-field__ripple"></span>
      <input class="mdc-text-field__input" type="text" aria-labelledby="my-label-id" id="name">
      <span class="mdc-floating-label" id="my-label-id2">Name</span>
      <span class="mdc-line-ripple"></span>
    </label>
   </div>
 <!-- --> <p class="text-muted"></p>
 <div class="mdc-select mdc-select--filled" id="select">
  <div class="mdc-select__anchor"
       role="button"
       aria-haspopup="listbox"
       aria-expanded="false"
       aria-labelledby="demo-label demo-selected-text">
    <span class="mdc-select__ripple"></span>
    <span class="mdc-floating-label">Unit</span>
    <span style="text-align:left;" class="mdc-select__selected-text"></span>
    <span class="mdc-select__dropdown-icon">
      <svg
          class="mdc-select__dropdown-icon-graphic"
          viewBox="7 10 10 5" focusable="false">
        <polygon
            class="mdc-select__dropdown-icon-inactive"
            stroke="none"
            fill-rule="evenodd"
            points="7 10 12 15 17 10">
        </polygon>
        <polygon
            class="mdc-select__dropdown-icon-active"
            stroke="none"
            fill-rule="evenodd"
            points="7 15 12 10 17 15">
        </polygon>
      </svg>
    </span>
    <span class="mdc-line-ripple"></span>
  </div>

  <div class="mdc-select__menu mdc-menu mdc-menu-surface mdc-menu-surface--fullwidth text-left">
    <ul class="mdc-list" role="listbox" id="stateSelectList" aria-label="Pick your Unit">


    </ul>
   
  </div>
  
</div>
<p class="message" id="setupMessage"></p> 
<br>
<small class="text-muted"></small>
</div>
</body>
<div class="mdc-dialog" id="settings">
  <div class="mdc-dialog__container">
    <div class="mdc-dialog__surface"
      role="alertdialog"
      aria-modal="true">
      <!-- Title cannot contain leading whitespace due to mdc-typography-baseline-top() -->
      <h2 class="mdc-dialog__title" style="color:inherit;"><!--
     -->Settings<!--
   --></h2>
      <div class="mdc-dialog__content" id="my-dialog-content">
        <ul class="mdc-list mdc-list--two-line mdc-list--icon-list">
          <li class="mdc-list-item" tabindex="0" onclick="toggleAlwaysNight()">
            <span class="mdc-list-item__ripple"></span>
            <span class="mdc-list-item__text">
              <span class="mdc-list-item__primary-text">Night Theme Always On</span>
              <span class="mdc-list-item__secondary-text">Always use a dark night theme</span>
            </span>
            <div class="mdc-switch settings-switch">
              <div class="mdc-switch__track"></div>
              <div class="mdc-switch__thumb-underlay">
                <div class="mdc-switch__thumb"></div>
                <input type="checkbox" id="dark-mode-switch" class="mdc-switch__native-control" role="switch" aria-checked="false">
              </div>
            </div>
          </li>
          <a class="mdc-list-item" tabindex="0" onclick="exportData(this)">
            <span class="mdc-list-item__ripple"></span>
            <span class="mdc-list-item__text">
              <span class="mdc-list-item__primary-text">Export your Data</span>
              <span class="mdc-list-item__secondary-text">Use this before you clear your cookies or get a new device.</span>
            </span>
          </a>
         
          <li class="mdc-list-item" tabindex="0" id="installItem" hidden onclick="installPrompt.install()">
            <span class="mdc-list-item__ripple"></span>
            <span class="mdc-list-item__text">
              <span class="mdc-list-item__primary-text">Install App</span>
              <span class="mdc-list-item__secondary-text">Install this app and add it to your home screen</span>
            </span>
          </li>
          <li class="mdc-list-item" tabindex="0" onclick="deleteData()">
            <span class="mdc-list-item__ripple"></span>
            <span class="mdc-list-item__text">
              <span class="mdc-list-item__primary-text">Delete all Data</span>
              <span class="mdc-list-item__secondary-text">Resets this app and all log data with it.</span>
            </span>
          </li>
          <li role="separator" class="mdc-list-divider"></li>
          <a class="mdc-list-item" tabindex="0" href="">
            <span class="mdc-list-item__ripple"></span>
            <span class="mdc-list-item__text">
              <span class="mdc-list-item__primary-text">Help</span>
              <span class="mdc-list-item__secondary-text">Have issues? Give Feedback or get Answers</span>
            </span>
          </a>
        </ul>
      </div>
      <div class="mdc-dialog__actions">
        <button type="button" class="mdc-button mdc-dialog__button" data-mdc-dialog-action="accept">
          <div class="mdc-button__ripple"></div>
          <span class="mdc-button__label">Close</span>
        </button>
      </div>
    </div>
  </div>
  <div class="mdc-dialog__scrim"></div>
</div>
<div id="newGoalSetterWrapper">

</div>
<div class="mdc-snackbar">
  <div class="mdc-snackbar__surface">
    <div class="mdc-snackbar__label"
         role="status"
         aria-live="polite">
    </div>
    <div class="mdc-snackbar__actions">
      <a type="button" class="mdc-button mdc-snackbar__action mdc-button--raised" hidden href="about.html#help">
        <div class="mdc-button__ripple"></div>
        <span class="mdc-button__label">Help</span>
      </a>
    </div>
  </div>
</div>
<div class="mdc-dialog" id="reminder">
  <div class="mdc-dialog__container">
    <div class="mdc-dialog__surface"
      role="alertdialog"
      aria-modal="true">
      <!-- Title cannot contain leading whitespace due to mdc-typography-baseline-top() -->
      <h2 class="mdc-dialog__title" style="color:inherit;"><!--
     -->REMINDER<!--
   --></h2>
      <div class="mdc-dialog__content" id="my-dialog-content">
       <span>A vehicle (Octopus), was last driven 7 days ago. Please ensure that a JIT is performed</span>
      </div>
      <div class="mdc-dialog__actions">
        <button type="button" class="mdc-button mdc-dialog__button" data-mdc-dialog-action="accept">
          <div class="mdc-button__ripple"></div>
          <span class="mdc-button__label">Close</span>
        </button>
      </div>
    </div>
   <div class="mdc-dialog__scrim"></div>	
  </div>
</html>

<script>
const drawerEl = document.querySelector('.mdc-drawer');
const drawer = new mdc.drawer.MDCDrawer.attachTo(drawerEl);

// Instantiate MDC Top App Bar (required)
const topAppBarEl = document.querySelector('.mdc-top-app-bar');
const topAppBar = new mdc.topAppBar.MDCTopAppBar.attachTo(topAppBarEl);

topAppBar.setScrollTarget(document.querySelector('.main-content'));
topAppBar.listen('MDCTopAppBar:nav', () => {
  drawer.open = !drawer.open;
});
</script>


<script>
var selector = '.mdc-button, .mdc-card__primary-action, .mdc-fab';
var ripples = [].map.call(document.querySelectorAll(selector), function(el) {
  return new mdc.ripple.MDCRipple(el);
});
var menu = new mdc.menu.MDCMenu(document.querySelector('.mdc-menu'));
var timeChips = new mdc.chips.MDCChipSet(document.querySelector('.mdc-chip-set'));
var hazardChips = new mdc.chips.MDCChipSet(document.getElementById('hazards'));
var comment= new mdc.textField.MDCTextField(document.getElementById('timeComment'))
var settings = new mdc.dialog.MDCDialog(document.getElementById('settings'));
var reminder = new mdc.dialog.MDCDialog(document.getElementById('reminder'));
var stateSelect = new mdc.select.MDCSelect(document.getElementById('select'));
var setupInputs = [].map.call(document.querySelectorAll('.hour-input'), function(el) {
  return new mdc.textField.MDCTextField(el);
});
var manualFields = {"night": [].map.call(document.getElementById('nightForm').querySelectorAll('.mdc-text-field'), function(el) {
  return new mdc.textField.MDCTextField(el);
}), "day": [].map.call(document.getElementById('dayForm').querySelectorAll('.mdc-text-field'), function(el) {
  return new mdc.textField.MDCTextField(el);
})}
var snackbar = new mdc.snackbar.MDCSnackbar(document.querySelector('.mdc-snackbar'));

//service worker for Progressive Web App mode
window.addEventListener('beforeinstallprompt', (event) => {
  console.log('👍', 'beforeinstallprompt', event);
  window.deferredPrompt = event;
});
if ('serviceWorker' in navigator) {
  window.addEventListener('load', function() {
    navigator.serviceWorker.register('sw.js').then(function(registration) {
      // Registration was successful
      console.log('ServiceWorker registration successful with scope: ', registration.scope);
    }, function(err) {
      // registration failed D:
      console.log('ServiceWorker registration failed: ', err);
    });
  });
}
const darkModeSwitch = new mdc.switchControl.MDCSwitch(document.getElementById('settings').querySelector('.settings-switch'));
if(localStorage.getItem('darkMode') == "true"){
  darkModeSwitch.checked = true
  document.querySelector('html').classList.add("night")
}


</script>
